<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

	    
	    	<title>ssd - Spatial System Dynamics</title>
	    
	    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
		<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
	</head>

	<body>
		<div id="container">
			<div id="product">
				<div id="product_logo">
					
					<img src='../img/logo.png'/><br/></div>
					
				<div id="product_name"><big><b></b></big></div>
				<div id="product_description"></div>
			</div> <!-- id="product" -->

			<div id="main">
				<div id="navigation">
					<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<h1>ssd</h1>
<ul>
	
		<li><a href="../index.html">Index</a></li>
	
</ul>

<!-- Module list -->


<!-- Models list -->

	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	


<!-- Types list -->

	
	
		
			
		
	
		
			
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
			
		
	

	
		<h1>Types</h1>
	

	<ul>
		
					<li>
						<a href="../files/Connector.html">Connector</a>
					</li>
				
			
		
					<li>
						<a href="../files/Flow.html">Flow</a>
					</li>
				
			
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
					<li><strong>Timer</strong></li>
				
			
		
	</ul>


<!-- Files list -->

	
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	
		
	

	

	<ul>
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	</ul>


<!-- Examples -->

	
		<h1><a href="../files/examples.html">Examples</a></h1>
	



<!-- Data -->


<!-- Font -->



				</div> <!-- id="navigation" -->

				<div id="content">
					<h1>Timer
					
					
					</h1>

					
						<span class="description"></span>
					
					
					
					

					
						

						
							<h2 class="function_list">Functions</h2>
							<table class="function_list">
							
								
									<tr>
										<td class="name" nowrap><a href="#add">add</a>&nbsp;
<td class="summary">Add a new Event to the timer.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#clear">clear</a>&nbsp;
<td class="summary">Remove all the Events from the Timer.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#getEvents">getEvents</a>&nbsp;
<td class="summary">Return a vector with the Events of the Timer.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#getTime">getTime</a>&nbsp;
<td class="summary">Return the current simulation time.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#notify">notify</a>&nbsp;
<td class="summary">Notify every Observer connected to the Timer.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#reset">reset</a>&nbsp;
<td class="summary">Reset the Timer to time minus infinite, keeping the same Event queue.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#run">run</a>&nbsp;
<td class="summary">Run the Timer until a given final time.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="#Timer">Timer</a>&nbsp;
<td class="summary">A Timer is an event-based scheduler that runs the simulation.</td>
									</tr>
								
							
								
									<tr>
										<td class="name" nowrap><a href="##">#</a>&nbsp;
<td class="summary">Return the number of Events in the Timer.</td>
									</tr>
								
							
						
						</table>
					

					

					
						
						<dl class="function">
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="add">

	</a><strong>add</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Add a new Event to the timer. If the Event has a start time less than the current simulation time then add() will prompt a warning (but the Event will be added).<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: An Event or table. When adding a table, this function converts the table into an Event.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">timer</span> = <span class="function">Timer</span>{}

<span class="id">timer</span>:<span class="function">add</span>(<span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>() <span class="reserved">end</span>})</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="clear">

	</a><strong>clear</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Remove all the Events from the Timer. Note that, when this function is called within an action of an Event, if such function does not return false, it will be added to the Timer again after the end of its execution. This means that the simulation will continue with a single Event until its final time.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">timer</span> = <span class="function">Timer</span>{
    <span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>() <span class="id">print</span>(<span class="string">"step"</span>) <span class="reserved">end</span>}
}

<span class="id">timer</span>:<span class="function">clear</span>()</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="getEvents">

	</a><strong>getEvents</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return a vector with the Events of the Timer.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">timer</span> = <span class="function">Timer</span>{
    <span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>() <span class="id">print</span>(<span class="string">"step"</span>) <span class="reserved">end</span>}
}

<span class="id">print</span>(<span class="id">timer</span>:<span class="function">getEvents</span>()[<span class="number">1</span>]:<span class="id">getTime</span>())</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="getTime">

	</a><strong>getTime</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the current simulation time.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">timer</span> = <span class="function">Timer</span>{
    <span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>() <span class="id">print</span>(<span class="string">"step"</span>) <span class="reserved">end</span>}
}

<span class="id">timer</span>:<span class="id">run</span>(<span class="number">10</span>)
<span class="id">print</span>(<span class="id">timer</span>:<span class="function">getTime</span>())</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="notify">

	</a><strong>notify</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Notify every Observer connected to the Timer.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">timer</span> = <span class="function">Timer</span>{
    <span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>() <span class="id">print</span>(<span class="string">"step"</span>) <span class="reserved">end</span>}
}

<span class="function">Clock</span>{<span class="id">target</span> = <span class="id">timer</span>}

<span class="id">timer</span>:<span class="id">run</span>(<span class="number">10</span>)

<span class="id">timer</span>:<span class="function">notify</span>()</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="reset">

	</a><strong>reset</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Reset the Timer to time minus infinite, keeping the same Event queue.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">timer</span> = <span class="function">Timer</span>{
    <span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>() <span class="id">print</span>(<span class="string">"step"</span>) <span class="reserved">end</span>}
}

<span class="function">Clock</span>{<span class="id">target</span> = <span class="id">timer</span>}

<span class="id">timer</span>:<span class="id">run</span>(<span class="number">10</span>)

<span class="id">timer</span>:<span class="function">reset</span>()
<span class="id">print</span>(<span class="id">timer</span>:<span class="id">getTime</span>())</code></pre>




</dd>


						    	
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="run">

	</a><strong>run</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Run the Timer until a given final time. It manages the Event queue according to their execution times and priorities. The Event with lower time will be executed in each step. If there are two Events to be executed at the same time, it executes the one with lower priority. If both have the same priority, it executes the one that was scheuled first for that time. In order to activate an Event, the Timer executes its action, passing the Event itself as argument. If the action of the Event does not return false, the Event is scheduled to execute again according to its period. The Timer then repeats its execution again and again. It stops only when all its Events are scheduled to execute after the final time, or when there are no remaining Events.<br><br></span>




<!-- Function arguments -->
  <h3>Arguments</h3>
<ul><span class="arg">

    <li>
	  <strong>#1</strong>: A number representing the final time of the simulation. This argument is mandatory.
    </li> 
    
  
  </span></ul>







<h3>Usage</h3>
<pre class="example"><code><span class="id">timer</span> = <span class="function">Timer</span>{
    <span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>() <span class="id">print</span>(<span class="string">"step"</span>) <span class="reserved">end</span>}
}

<span class="id">timer</span>:<span class="function">run</span>(<span class="number">10</span>)</code></pre>




</dd>


						    	
							
							
									<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">


<dt><h2><a name="#">

	</a><strong>#</strong>&nbsp;

</h2></dt>
<dd>


<span class="description">

Return the number of Events in the Timer.<br><br></span>










<h3>Usage</h3>
<pre class="example"><code><span class="id">timer</span> = <span class="function">Timer</span>{
    <span class="function">Event</span>{<span class="id">action</span> = <span class="reserved">function</span>()
        <span class="id">print</span>(<span class="string">"each time step"</span>)
    <span class="reserved">end</span>},
    <span class="function">Event</span>{<span class="id">period</span> = <span class="number">2</span>, <span class="id">action</span> = <span class="reserved">function</span>()
        <span class="id">print</span>(<span class="string">"each two time steps"</span>)
    <span class="reserved">end</span>}
}

<span class="id">print</span>(<span class="function">#</span><span class="id">timer</span>)</code></pre>




</dd>


						    	
							
						</dl>
					

					

				</div> <!-- id="content" -->
			</div> <!-- id="main" -->

			<div id="about">
				<p>This webpage was automatically created using <a target="_blank" href="http://www.terrame.org">TerraME</a>.</p>
			</div> <!-- id="about" -->

		</div> <!-- id="container" -->	
	</body>
</html>

